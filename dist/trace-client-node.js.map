{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a85c9cab9aee6a44a0eb","webpack:///./node_modules/safe-buffer/index.js","webpack:///./node_modules/ws/lib/PerMessageDeflate.js","webpack:///./node_modules/ws/lib/Constants.js","webpack:///external \"crypto\"","webpack:///./node_modules/ws/lib/BufferUtil.js","webpack:///./src/client/adapter-base.js","webpack:///./src/client/config.js","webpack:///./node_modules/ws/lib/WebSocket.js","webpack:///external \"events\"","webpack:///./node_modules/ultron/index.js","webpack:///external \"http\"","webpack:///external \"url\"","webpack:///./node_modules/bindings/bindings.js","webpack:///./node_modules/bindings","webpack:///./node_modules/ws/lib/Extensions.js","webpack:///./node_modules/ws/lib/Receiver.js","webpack:///./node_modules/ws/lib/ErrorCodes.js","webpack:///./node_modules/ws/lib/Sender.js","webpack:///./src/client/node.js","webpack:///./src/client/trace-client.js","webpack:///./src/client/adapter-socket-node.js","webpack:///./src/client/adapter-socket-browser.js","webpack:///./node_modules/ws/index.js","webpack:///external \"https\"","webpack:///external \"buffer\"","webpack:///./node_modules/async-limiter/index.js","webpack:///external \"zlib\"","webpack:///./node_modules/bufferutil/index.js","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///./node_modules/bufferutil/fallback.js","webpack:///./node_modules/ws/lib/EventTarget.js","webpack:///./node_modules/ws/lib/Validation.js","webpack:///./node_modules/utf-8-validate/index.js","webpack:///./node_modules/utf-8-validate/fallback.js","webpack:///./node_modules/ws/lib/WebSocketServer.js","webpack:///./src/client/adapter-factory.js","webpack:///./src/client/adapter-inproc.js"],"names":["buffer","require","Buffer","copyProps","src","dst","key","from","alloc","allocUnsafe","allocUnsafeSlow","module","exports","SafeBuffer","arg","encodingOrOffset","length","TypeError","size","fill","encoding","buf","undefined","SlowBuffer","safeBuffer","Limiter","zlib","bufferUtil","TRAILER","EMPTY_BLOCK","kWriteInProgress","Symbol","kPendingClose","kTotalLength","kCallback","kBuffers","kError","kOwner","zlibLimiter","PerMessageDeflate","options","isServer","maxPayload","_maxPayload","_options","_threshold","threshold","_isServer","_deflate","_inflate","params","concurrency","concurrencyLimit","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","paramsList","normalizeParams","acceptAsServer","acceptAsClient","close","accepted","result","some","Error","map","Object","keys","forEach","value","parseInt","Number","isNaN","Z_MIN_WINDOWBITS","Z_MAX_WINDOWBITS","data","fin","callback","push","done","_decompress","err","_compress","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","on","inflateOnError","inflateOnData","write","flush","concat","process","nextTick","createDeflateRaw","memLevel","level","Z_SYNC_FLUSH","deflateOnData","slice","chunk","closeCode","removeListener","reset","BINARY_TYPES","GUID","EMPTY_BUFFER","NOOP","list","totalLength","target","offset","i","copy","assign","BufferUtil","e","mask","source","output","unmask","AdapterBase","onMessageHandler","socket","isConnected","isConnecting","hasError","clientId","Promise","resolve","reject","host","port","console","log","createSocket","then","resolveConnection","catch","cmd","error","message","jsonStr","JSON","stringify","socketSend","toString","send","defaultConfig","inproc","config","__TRACE__","global","EventEmitter","crypto","Ultron","https","http","url","EventTarget","Extensions","constants","Receiver","Sender","protocolVersions","closeTimeout","WebSocket","address","protocols","Array","isArray","readyState","CONNECTING","bytesReceived","extensions","protocol","_binaryType","_finalize","finalize","bind","_closeFrameReceived","_closeFrameSent","_closeMessage","_closeTimer","_finalized","_closeCode","_receiver","_sender","_socket","_ultron","initAsServerClient","call","initAsClient","head","setTimeout","setNoDelay","binaryType","unshift","add","onmessage","emit","onping","pong","onpong","onclose","code","reason","onerror","CLOSING","OPEN","emitClose","clearTimeout","destroy","end","cleanup","CLOSED","extensionName","removeAllListeners","pause","resume","_req","abort","failSilently","ping","cb","opts","binary","compress","amount","bufferSize","_bufferedBytes","type","indexOf","method","defineProperty","prototype","get","listeners","_listener","set","listener","addEventListener","removeEventListener","protocolVersion","setSocket","join","perMessageDeflate","handshakeTimeout","localAddress","headers","family","origin","agent","checkServerIdentity","rejectUnauthorized","passphrase","ciphers","ecdhCurve","cert","pfx","ca","serverUrl","parse","isUnixSocket","path","isSecure","randomBytes","httpObj","requestOptions","hostname","format","offer","Origin","Host","auth","parts","split","socketPath","charAt","Agent","aborted","res","statusCode","digest","createHash","update","serverProt","protList","protError","serverExtensions","accept","has","hasOwnProperty","id","ee","event","fn","context","__ultron","once","remove","args","arguments","eventNames","_events","getOwnPropertySymbols","j","fs","dirname","exists","accessSync","existsSync","defaults","arrow","env","NODE_BINDINGS_ARROW","compiled","NODE_BINDINGS_COMPILED_DIR","platform","arch","version","versions","node","bindings","try","module_root","getRoot","getFileName","extname","tries","l","n","b","apply","p","test","a","calling_file","origPST","prepareStackTrace","origSTL","stackTraceLimit","dummy","fileName","st","__filename","captureStackTrace","stack","file","dir","prev","cwd","tokenChars","dest","name","elem","header","offers","mustUnescape","isEscaping","inQuotes","paramName","start","charCodeAt","replace","token","k","v","isValidUTF8","ErrorCodes","GET_INFO","GET_PAYLOAD_LENGTH_16","GET_PAYLOAD_LENGTH_64","GET_MASK","GET_DATA","INFLATING","_extensions","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_mask","_opcode","_totalPayloadLength","_messageLength","_fragments","_cleanupCallback","_hadError","_dead","_loop","_state","bytes","shift","startLoop","getInfo","getPayloadLength16","getPayloadLength64","getMask","getData","hasBufferedBytes","readBuffer","compressed","haveLength","readUInt16BE","num","readUInt32BE","Math","pow","maxPayloadExceeded","controlMessage","decompress","pushFragment","dataMessage","messageLength","fragments","toBuffer","toArrayBuffer","isValidErrorCode","fullLength","fragment","byteOffset","byteLength","_firstFragment","_deflating","_queue","writeUInt16BE","enqueue","doClose","sendFrame","frame","rsv1","opcode","readOnly","isBuffer","ArrayBuffer","isView","viewToBuffer","doPing","doPong","dispatch","_","dequeue","merge","payloadLength","writeUInt32BE","view","trace","client","TraceClient","SocketAdapter","onMessage","socketAdapter","connect","row","NodeSocketAdapter","onExit","exit","BrowserSocketAdapter","newSocket","onopen","onError","Server","Queue","Infinity","pending","jobs","cbs","_done","arrayAddMethods","methodResult","_run","job","pop","onDone","Event","MessageEvent","CloseEvent","wasClean","OpenEvent","onClose","onOpen","Validation","len","WebSocketServer","handleProtocols","clientTracking","verifyClient","noServer","backlog","server","_server","createServer","req","body","STATUS_CODES","writeHead","listen","handleUpgrade","clients","Set","terminate","pathname","socketError","upgrade","toLowerCase","shouldHandle","abortConnection","info","secure","connection","authorized","encrypted","verified","completeUpgrade","readable","writable","delete","getAdapter","Adapter","InProcAdapter"],"mappings":"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","file":"trace-client-node.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"trace\"] = factory();\n\telse\n\t\troot[\"trace\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a85c9cab9aee6a44a0eb","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/safe-buffer/index.js","'use strict';\n\nconst safeBuffer = require('safe-buffer');\nconst Limiter = require('async-limiter');\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./BufferUtil');\n\nconst Buffer = safeBuffer.Buffer;\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst EMPTY_BLOCK = Buffer.from([0x00]);\n\nconst kWriteInProgress = Symbol('write-in-progress');\nconst kPendingClose = Symbol('pending-close');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\nconst kOwner = Symbol('owner');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Boolean} options.serverNoContextTakeover Request/accept disabling\n   *     of server context takeover\n   * @param {Boolean} options.clientNoContextTakeover Advertise/acknowledge\n   *     disabling of client context takeover\n   * @param {(Boolean|Number)} options.serverMaxWindowBits Request/confirm the\n   *     use of a custom server window size\n   * @param {(Boolean|Number)} options.clientMaxWindowBits Advertise support\n   *     for, or request, a custom client window size\n   * @param {Number} options.level The value of zlib's `level` param\n   * @param {Number} options.memLevel The value of zlib's `memLevel` param\n   * @param {Number} options.threshold Size (in bytes) below which messages\n   *     should not be compressed\n   * @param {Number} options.concurrencyLimit The number of concurrent calls to\n   *     zlib\n   * @param {Boolean} isServer Create the instance in either server or client\n   *     mode\n   * @param {Number} maxPayload The maximum allowed message length\n   */\n  constructor (options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold = this._options.threshold !== undefined\n      ? this._options.threshold\n      : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency = this._options.concurrencyLimit !== undefined\n        ? this._options.concurrencyLimit\n        : 10;\n      zlibLimiter = new Limiter({ concurrency });\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName () {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create extension parameters offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer () {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept extension offer.\n   *\n   * @param {Array} paramsList Extension parameters\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept (paramsList) {\n    paramsList = this.normalizeParams(paramsList);\n\n    var params;\n    if (this._isServer) {\n      params = this.acceptAsServer(paramsList);\n    } else {\n      params = this.acceptAsClient(paramsList);\n    }\n\n    this.params = params;\n    return params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup () {\n    if (this._inflate) {\n      if (this._inflate[kWriteInProgress]) {\n        this._inflate[kPendingClose] = true;\n      } else {\n        this._inflate.close();\n        this._inflate = null;\n      }\n    }\n    if (this._deflate) {\n      if (this._deflate[kWriteInProgress]) {\n        this._deflate[kPendingClose] = true;\n      } else {\n        this._deflate.close();\n        this._deflate = null;\n      }\n    }\n  }\n\n  /**\n   * Accept extension offer from client.\n   *\n   * @param {Array} paramsList Extension parameters\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer (paramsList) {\n    const accepted = {};\n    const result = paramsList.some((params) => {\n      if (\n        (this._options.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (this._options.serverMaxWindowBits === false &&\n          params.server_max_window_bits) ||\n        (typeof this._options.serverMaxWindowBits === 'number' &&\n          typeof params.server_max_window_bits === 'number' &&\n          this._options.serverMaxWindowBits > params.server_max_window_bits) ||\n        (typeof this._options.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return;\n      }\n\n      if (\n        this._options.serverNoContextTakeover ||\n        params.server_no_context_takeover\n      ) {\n        accepted.server_no_context_takeover = true;\n      }\n      if (\n        this._options.clientNoContextTakeover ||\n        (this._options.clientNoContextTakeover !== false &&\n          params.client_no_context_takeover)\n      ) {\n        accepted.client_no_context_takeover = true;\n      }\n      if (typeof this._options.serverMaxWindowBits === 'number') {\n        accepted.server_max_window_bits = this._options.serverMaxWindowBits;\n      } else if (typeof params.server_max_window_bits === 'number') {\n        accepted.server_max_window_bits = params.server_max_window_bits;\n      }\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        accepted.client_max_window_bits = this._options.clientMaxWindowBits;\n      } else if (\n        this._options.clientMaxWindowBits !== false &&\n        typeof params.client_max_window_bits === 'number'\n      ) {\n        accepted.client_max_window_bits = params.client_max_window_bits;\n      }\n      return true;\n    });\n\n    if (!result) throw new Error(\"Doesn't support the offered configuration\");\n\n    return accepted;\n  }\n\n  /**\n   * Accept extension response from server.\n   *\n   * @param {Array} paramsList Extension parameters\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient (paramsList) {\n    const params = paramsList[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Invalid value for \"client_no_context_takeover\"');\n    }\n\n    if (\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        (!params.client_max_window_bits ||\n          params.client_max_window_bits > this._options.clientMaxWindowBits)) ||\n      (this._options.clientMaxWindowBits === false &&\n        params.client_max_window_bits)\n    ) {\n      throw new Error('Invalid value for \"client_max_window_bits\"');\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize extensions parameters.\n   *\n   * @param {Array} paramsList Extension parameters\n   * @return {Array} Normalized extensions parameters\n   * @private\n   */\n  normalizeParams (paramsList) {\n    return paramsList.map((params) => {\n      Object.keys(params).forEach((key) => {\n        var value = params[key];\n        if (value.length > 1) {\n          throw new Error(`Multiple extension parameters for ${key}`);\n        }\n\n        value = value[0];\n\n        switch (key) {\n          case 'server_no_context_takeover':\n          case 'client_no_context_takeover':\n            if (value !== true) {\n              throw new Error(`invalid extension parameter value for ${key} (${value})`);\n            }\n            params[key] = true;\n            break;\n          case 'server_max_window_bits':\n          case 'client_max_window_bits':\n            if (typeof value === 'string') {\n              value = parseInt(value, 10);\n              if (\n                Number.isNaN(value) ||\n                value < zlib.Z_MIN_WINDOWBITS ||\n                value > zlib.Z_MAX_WINDOWBITS\n              ) {\n                throw new Error(`invalid extension parameter value for ${key} (${value})`);\n              }\n            }\n            if (!this._isServer && value === true) {\n              throw new Error(`Missing extension parameter value for ${key}`);\n            }\n            params[key] = value;\n            break;\n          default:\n            throw new Error(`Not defined extension parameter (${key})`);\n        }\n      });\n      return params;\n    });\n  }\n\n  /**\n   * Decompress data. Concurrency limited by async-limiter.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress (data, fin, callback) {\n    zlibLimiter.push((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited by async-limiter.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress (data, fin, callback) {\n    zlibLimiter.push((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress (data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits = typeof this.params[key] !== 'number'\n        ? zlib.Z_DEFAULT_WINDOWBITS\n        : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({ windowBits });\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate[kOwner] = this;\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n    this._inflate[kWriteInProgress] = true;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (\n        (fin && this.params[`${endpoint}_no_context_takeover`]) ||\n        this._inflate[kPendingClose]\n      ) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kWriteInProgress] = false;\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress (data, fin, callback) {\n    if (!data || data.length === 0) {\n      process.nextTick(callback, null, EMPTY_BLOCK);\n      return;\n    }\n\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits = typeof this.params[key] !== 'number'\n        ? zlib.Z_DEFAULT_WINDOWBITS\n        : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        memLevel: this._options.memLevel,\n        level: this._options.level,\n        flush: zlib.Z_SYNC_FLUSH,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      //\n      // `zlib.DeflateRaw` emits an `'error'` event only when an attempt to use\n      // it is made after it has already been closed. This cannot happen here,\n      // so we only add a listener for the `'data'` event.\n      //\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kWriteInProgress] = true;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      var data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      if (\n        (fin && this.params[`${endpoint}_no_context_takeover`]) ||\n        this._deflate[kPendingClose]\n      ) {\n        this._deflate.close();\n        this._deflate = null;\n      } else {\n        this._deflate[kWriteInProgress] = false;\n        this._deflate[kTotalLength] = 0;\n        this._deflate[kBuffers] = [];\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData (chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData (chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kOwner]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kOwner]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new Error('max payload size exceeded');\n  this[kError].closeCode = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError (err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kOwner]._inflate = null;\n  this[kCallback](err);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/lib/PerMessageDeflate.js","'use strict';\n\nconst safeBuffer = require('safe-buffer');\n\nconst Buffer = safeBuffer.Buffer;\n\nexports.BINARY_TYPES = ['nodebuffer', 'arraybuffer', 'fragments'];\nexports.GUID = '258EAFA5-E914-47DA-95CA-C5AB0DC85B11';\nexports.EMPTY_BUFFER = Buffer.alloc(0);\nexports.NOOP = () => {};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/lib/Constants.js","module.exports = require(\"crypto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto\"\n// module id = 3\n// module chunks = 0","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\n'use strict';\n\nconst safeBuffer = require('safe-buffer');\n\nconst Buffer = safeBuffer.Buffer;\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nconst concat = (list, totalLength) => {\n  const target = Buffer.allocUnsafe(totalLength);\n  var offset = 0;\n\n  for (var i = 0; i < list.length; i++) {\n    const buf = list[i];\n    buf.copy(target, offset);\n    offset += buf.length;\n  }\n\n  return target;\n};\n\ntry {\n  const bufferUtil = require('bufferutil');\n\n  module.exports = Object.assign({ concat }, bufferUtil.BufferUtil || bufferUtil);\n} catch (e) /* istanbul ignore next */ {\n  /**\n   * Masks a buffer using the given mask.\n   *\n   * @param {Buffer} source The buffer to mask\n   * @param {Buffer} mask The mask to use\n   * @param {Buffer} output The buffer where to store the result\n   * @param {Number} offset The offset at which to start writing\n   * @param {Number} length The number of bytes to mask.\n   * @public\n   */\n  const mask = (source, mask, output, offset, length) => {\n    for (var i = 0; i < length; i++) {\n      output[offset + i] = source[i] ^ mask[i & 3];\n    }\n  };\n\n  /**\n   * Unmasks a buffer using the given mask.\n   *\n   * @param {Buffer} buffer The buffer to unmask\n   * @param {Buffer} mask The mask to use\n   * @public\n   */\n  const unmask = (buffer, mask) => {\n    // Required until https://github.com/nodejs/node/issues/9006 is resolved.\n    const length = buffer.length;\n    for (var i = 0; i < length; i++) {\n      buffer[i] ^= mask[i & 3];\n    }\n  };\n\n  module.exports = { concat, mask, unmask };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/lib/BufferUtil.js","import config from './config';\n\nexport default class AdapterBase {\n  constructor (onMessageHandler) {\n    this.socket = null;\n    this.isConnected = false;\n    this.isConnecting = false;\n    this.hasError = false;\n    this.clientId = null;\n    this.onMessageHandler = onMessageHandler;\n  }\n\n  connect () {\n    return new Promise((resolve, reject) => {\n      const { host, port } = config;\n\n      config.isConnecting = true;\n\n      console.log('connecting:', host, port);\n      this.createSocket(host, port).then(socket => {\n        this.socket = socket;\n        this.isConnected = true;\n        this.isConnecting = false;\n        \n        this.resolveConnection = resolve;\n      }).catch(reject);\n    });\n  }\n\n  createSocket (host, port) {\n    // 1. create socket implementation\n    // 2. bind to handlers\n    // 3. return Promise.resolve(socket)\n    throw new Error('unimplemented');\n  }\n\n  onMessage (data) {\n    if (data.cmd === 'id.set') {\n      this.clientId = config.clientId = data.value;\n      this.resolveConnection();\n    }\n    this.onMessageHandler(data);\n  }\n\n  onError (error) {\n    this.hasError = true;\n    console.log('error!', error);\n  }\n\n  send (cmd, data = null) {\n    if (this.hasError) {\n      throw new Error('Cannot send trace data, socket has failed.');\n    }\n\n    const message = {\n      clientId: this.clientId,\n      cmd: cmd,\n      data: data,\n    };\n\n    try {\n      const jsonStr = JSON.stringify(message);\n      this.socketSend(jsonStr);\n    } catch (e) {\n      throw new Error('Cannot convert trace message data to JSON: ' + e.toString())\n    }\n  }\n\n  socketSend (jsonStr) {\n    // send json string using socket implementation\n    throw new Error('unimplemented');\n  }\n\n  close () {\n    this.send('close');\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/client/adapter-base.js","const defaultConfig = {\n  inproc: false,\n  host: 'ws://127.0.0.1',\n  port: 8080,\n  clientId: null,\n};\n\nlet config = defaultConfig;\n\nif (typeof __TRACE__ === 'object') {\n  config = __TRACE__;\n} else {\n  global.__TRACE__ = config;\n}\n\nconfig.isConnected = false;\n\nexport default config;\n\n\n// WEBPACK FOOTER //\n// ./src/client/config.js","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst crypto = require('crypto');\nconst Ultron = require('ultron');\nconst https = require('https');\nconst http = require('http');\nconst url = require('url');\n\nconst PerMessageDeflate = require('./PerMessageDeflate');\nconst EventTarget = require('./EventTarget');\nconst Extensions = require('./Extensions');\nconst constants = require('./Constants');\nconst Receiver = require('./Receiver');\nconst Sender = require('./Sender');\n\nconst protocolVersions = [8, 13];\nconst closeTimeout = 30 * 1000; // Allow 30 seconds to terminate the connection cleanly.\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {String} address The URL to which to connect\n   * @param {(String|String[])} protocols The subprotocols\n   * @param {Object} options Connection options\n   */\n  constructor (address, protocols, options) {\n    super();\n\n    if (!protocols) {\n      protocols = [];\n    } else if (typeof protocols === 'string') {\n      protocols = [protocols];\n    } else if (!Array.isArray(protocols)) {\n      options = protocols;\n      protocols = [];\n    }\n\n    this.readyState = WebSocket.CONNECTING;\n    this.bytesReceived = 0;\n    this.extensions = {};\n    this.protocol = '';\n\n    this._binaryType = constants.BINARY_TYPES[0];\n    this._finalize = this.finalize.bind(this);\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = '';\n    this._closeTimer = null;\n    this._finalized = false;\n    this._closeCode = 1006;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n    this._ultron = null;\n\n    if (Array.isArray(address)) {\n      initAsServerClient.call(this, address[0], address[1], options);\n    } else {\n      initAsClient.call(this, address, protocols, options);\n    }\n  }\n\n  get CONNECTING () { return WebSocket.CONNECTING; }\n  get CLOSING () { return WebSocket.CLOSING; }\n  get CLOSED () { return WebSocket.CLOSED; }\n  get OPEN () { return WebSocket.OPEN; }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount () {\n    var amount = 0;\n\n    if (this._socket) {\n      amount = this._socket.bufferSize + this._sender._bufferedBytes;\n    }\n    return amount;\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the required\n   * default \"blob\" type (instead we define a custom \"nodebuffer\" type).\n   *\n   * @type {String}\n   */\n  get binaryType () {\n    return this._binaryType;\n  }\n\n  set binaryType (type) {\n    if (constants.BINARY_TYPES.indexOf(type) < 0) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {net.Socket} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @private\n   */\n  setSocket (socket, head) {\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    this._receiver = new Receiver(this.extensions, this._maxPayload, this.binaryType);\n    this._sender = new Sender(socket, this.extensions);\n    this._ultron = new Ultron(socket);\n    this._socket = socket;\n\n    this._ultron.on('close', this._finalize);\n    this._ultron.on('error', this._finalize);\n    this._ultron.on('end', this._finalize);\n\n    if (head.length > 0) socket.unshift(head);\n\n    this._ultron.on('data', (data) => {\n      this.bytesReceived += data.length;\n      this._receiver.add(data);\n    });\n\n    this._receiver.onmessage = (data) => this.emit('message', data);\n    this._receiver.onping = (data) => {\n      this.pong(data, !this._isServer, true);\n      this.emit('ping', data);\n    };\n    this._receiver.onpong = (data) => this.emit('pong', data);\n    this._receiver.onclose = (code, reason) => {\n      this._closeFrameReceived = true;\n      this._closeMessage = reason;\n      this._closeCode = code;\n      if (!this._finalized) this.close(code, reason);\n    };\n    this._receiver.onerror = (error, code) => {\n      this._closeMessage = '';\n      this._closeCode = code;\n\n      //\n      // Ensure that the error is emitted even if `WebSocket#finalize()` has\n      // already been called.\n      //\n      this.readyState = WebSocket.CLOSING;\n      this.emit('error', error);\n      this.finalize(true);\n    };\n\n    this.readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Clean up and release internal resources.\n   *\n   * @param {(Boolean|Error)} error Indicates whether or not an error occurred\n   * @private\n   */\n  finalize (error) {\n    if (this._finalized) return;\n\n    this.readyState = WebSocket.CLOSING;\n    this._finalized = true;\n\n    if (typeof error === 'object') this.emit('error', error);\n    if (!this._socket) return this.emitClose();\n\n    clearTimeout(this._closeTimer);\n    this._closeTimer = null;\n\n    this._ultron.destroy();\n    this._ultron = null;\n\n    this._socket.on('error', constants.NOOP);\n\n    if (!error) this._socket.end();\n    else this._socket.destroy();\n\n    this._socket = null;\n    this._sender = null;\n\n    this._receiver.cleanup(() => this.emitClose());\n    this._receiver = null;\n  }\n\n  /**\n   * Emit the `close` event.\n   *\n   * @private\n   */\n  emitClose () {\n    this.readyState = WebSocket.CLOSED;\n\n    this.emit('close', this._closeCode, this._closeMessage);\n\n    if (this.extensions[PerMessageDeflate.extensionName]) {\n      this.extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this.extensions = null;\n\n    this.removeAllListeners();\n  }\n\n  /**\n   * Pause the socket stream.\n   *\n   * @public\n   */\n  pause () {\n    if (this.readyState !== WebSocket.OPEN) throw new Error('not opened');\n\n    this._socket.pause();\n  }\n\n  /**\n   * Resume the socket stream\n   *\n   * @public\n   */\n  resume () {\n    if (this.readyState !== WebSocket.OPEN) throw new Error('not opened');\n\n    this._socket.resume();\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *            +----------+     +-----------+   +----------+\n   *     + - - -|ws.close()|---->|close frame|-->|ws.close()|- - - -\n   *            +----------+     +-----------+   +----------+       |\n   *     |      +----------+     +-----------+         |\n   *            |ws.close()|<----|close frame|<--------+            |\n   *            +----------+     +-----------+         |\n   *  CLOSING         |              +---+             |         CLOSING\n   *                  |          +---|fin|<------------+\n   *     |            |          |   +---+                          |\n   *                  |          |   +---+      +-------------+\n   *     |            +----------+-->|fin|----->|ws.finalize()| - - +\n   *                             |   +---+      +-------------+\n   *     |     +-------------+   |\n   *      - - -|ws.finalize()|<--+\n   *           +-------------+\n   *\n   * @param {Number} code Status code explaining why the connection is closing\n   * @param {String} data A string explaining why the connection is closing\n   * @public\n   */\n  close (code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      this._req.abort();\n      this.finalize(new Error('closed before the connection is established'));\n      return;\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (this._closeFrameSent && this._closeFrameReceived) this._socket.end();\n      return;\n    }\n\n    this.readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (!this._finalized) {\n        if (this._closeFrameReceived) this._socket.end();\n\n        //\n        // Ensure that the connection is cleaned up even when the closing\n        // handshake fails.\n        //\n        this._closeTimer = setTimeout(this._finalize, closeTimeout, true);\n      }\n    });\n  }\n\n  /**\n   * Send a ping message.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} mask Indicates whether or not to mask `data`\n   * @param {Boolean} failSilently Indicates whether or not to throw if `readyState` isn't `OPEN`\n   * @public\n   */\n  ping (data, mask, failSilently) {\n    if (this.readyState !== WebSocket.OPEN) {\n      if (failSilently) return;\n      throw new Error('not opened');\n    }\n\n    if (typeof data === 'number') data = data.toString();\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || constants.EMPTY_BUFFER, mask);\n  }\n\n  /**\n   * Send a pong message.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} mask Indicates whether or not to mask `data`\n   * @param {Boolean} failSilently Indicates whether or not to throw if `readyState` isn't `OPEN`\n   * @public\n   */\n  pong (data, mask, failSilently) {\n    if (this.readyState !== WebSocket.OPEN) {\n      if (failSilently) return;\n      throw new Error('not opened');\n    }\n\n    if (typeof data === 'number') data = data.toString();\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || constants.EMPTY_BUFFER, mask);\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} options.compress Specifies whether or not to compress `data`\n   * @param {Boolean} options.binary Specifies whether `data` is binary or text\n   * @param {Boolean} options.fin Specifies whether the fragment is the last one\n   * @param {Boolean} options.mask Specifies whether or not to mask `data`\n   * @param {Function} cb Callback which is executed when data is written out\n   * @public\n   */\n  send (data, options, cb) {\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (this.readyState !== WebSocket.OPEN) {\n      if (cb) cb(new Error('not opened'));\n      else throw new Error('not opened');\n      return;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    const opts = Object.assign({\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true\n    }, options);\n\n    if (!this.extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || constants.EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate () {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      this._req.abort();\n      this.finalize(new Error('closed before the connection is established'));\n      return;\n    }\n\n    this.finalize(true);\n  }\n}\n\nWebSocket.CONNECTING = 0;\nWebSocket.OPEN = 1;\nWebSocket.CLOSING = 2;\nWebSocket.CLOSED = 3;\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    /**\n     * Return the listener of the event.\n     *\n     * @return {(Function|undefined)} The event listener or `undefined`\n     * @public\n     */\n    get () {\n      const listeners = this.listeners(method);\n      for (var i = 0; i < listeners.length; i++) {\n        if (listeners[i]._listener) return listeners[i]._listener;\n      }\n    },\n    /**\n     * Add a listener for the event.\n     *\n     * @param {Function} listener The listener to add\n     * @public\n     */\n    set (listener) {\n      const listeners = this.listeners(method);\n      for (var i = 0; i < listeners.length; i++) {\n        //\n        // Remove only the listeners added via `addEventListener`.\n        //\n        if (listeners[i]._listener) this.removeListener(method, listeners[i]);\n      }\n      this.addEventListener(method, listener);\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = EventTarget.addEventListener;\nWebSocket.prototype.removeEventListener = EventTarget.removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket server client.\n *\n * @param {http.IncomingMessage} req The request object\n * @param {net.Socket} socket The network socket between the server and client\n * @param {Buffer} head The first packet of the upgraded stream\n * @param {Object} options WebSocket attributes\n * @param {Number} options.protocolVersion The WebSocket protocol version\n * @param {Object} options.extensions The negotiated extensions\n * @param {Number} options.maxPayload The maximum allowed message size\n * @param {String} options.protocol The chosen subprotocol\n * @private\n */\nfunction initAsServerClient (socket, head, options) {\n  this.protocolVersion = options.protocolVersion;\n  this._maxPayload = options.maxPayload;\n  this.extensions = options.extensions;\n  this.protocol = options.protocol;\n\n  this._isServer = true;\n\n  this.setSocket(socket, head);\n}\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {String} address The URL to which to connect\n * @param {String[]} protocols The list of subprotocols\n * @param {Object} options Connection options\n * @param {String} options.protocol Value of the `Sec-WebSocket-Protocol` header\n * @param {(Boolean|Object)} options.perMessageDeflate Enable/disable permessage-deflate\n * @param {Number} options.handshakeTimeout Timeout in milliseconds for the handshake request\n * @param {String} options.localAddress Local interface to bind for network connections\n * @param {Number} options.protocolVersion Value of the `Sec-WebSocket-Version` header\n * @param {Object} options.headers An object containing request headers\n * @param {String} options.origin Value of the `Origin` or `Sec-WebSocket-Origin` header\n * @param {http.Agent} options.agent Use the specified Agent\n * @param {String} options.host Value of the `Host` header\n * @param {Number} options.family IP address family to use during hostname lookup (4 or 6).\n * @param {Function} options.checkServerIdentity A function to validate the server hostname\n * @param {Boolean} options.rejectUnauthorized Verify or not the server certificate\n * @param {String} options.passphrase The passphrase for the private key or pfx\n * @param {String} options.ciphers The ciphers to use or exclude\n * @param {String} options.ecdhCurve The curves for ECDH key agreement to use or exclude\n * @param {(String|String[]|Buffer|Buffer[])} options.cert The certificate key\n * @param {(String|String[]|Buffer|Buffer[])} options.key The private key\n * @param {(String|Buffer)} options.pfx The private key, certificate, and CA certs\n * @param {(String|String[]|Buffer|Buffer[])} options.ca Trusted certificates\n * @private\n */\nfunction initAsClient (address, protocols, options) {\n  options = Object.assign({\n    protocolVersion: protocolVersions[1],\n    protocol: protocols.join(','),\n    perMessageDeflate: true,\n    handshakeTimeout: null,\n    localAddress: null,\n    headers: null,\n    family: null,\n    origin: null,\n    agent: null,\n    host: null,\n\n    //\n    // SSL options.\n    //\n    checkServerIdentity: null,\n    rejectUnauthorized: null,\n    passphrase: null,\n    ciphers: null,\n    ecdhCurve: null,\n    cert: null,\n    key: null,\n    pfx: null,\n    ca: null\n  }, options);\n\n  if (protocolVersions.indexOf(options.protocolVersion) === -1) {\n    throw new Error(\n      `unsupported protocol version: ${options.protocolVersion} ` +\n      `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  this.protocolVersion = options.protocolVersion;\n  this._isServer = false;\n  this.url = address;\n\n  const serverUrl = url.parse(address);\n  const isUnixSocket = serverUrl.protocol === 'ws+unix:';\n\n  if (!serverUrl.host && (!isUnixSocket || !serverUrl.path)) {\n    throw new Error('invalid url');\n  }\n\n  const isSecure = serverUrl.protocol === 'wss:' || serverUrl.protocol === 'https:';\n  const key = crypto.randomBytes(16).toString('base64');\n  const httpObj = isSecure ? https : http;\n  var perMessageDeflate;\n\n  const requestOptions = {\n    port: serverUrl.port || (isSecure ? 443 : 80),\n    host: serverUrl.hostname,\n    path: '/',\n    headers: {\n      'Sec-WebSocket-Version': options.protocolVersion,\n      'Sec-WebSocket-Key': key,\n      'Connection': 'Upgrade',\n      'Upgrade': 'websocket'\n    }\n  };\n\n  if (options.headers) Object.assign(requestOptions.headers, options.headers);\n  if (options.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      options.perMessageDeflate !== true ? options.perMessageDeflate : {},\n      false\n    );\n    requestOptions.headers['Sec-WebSocket-Extensions'] = Extensions.format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (options.protocol) {\n    requestOptions.headers['Sec-WebSocket-Protocol'] = options.protocol;\n  }\n  if (options.origin) {\n    if (options.protocolVersion < 13) {\n      requestOptions.headers['Sec-WebSocket-Origin'] = options.origin;\n    } else {\n      requestOptions.headers.Origin = options.origin;\n    }\n  }\n  if (options.host) requestOptions.headers.Host = options.host;\n  if (serverUrl.auth) requestOptions.auth = serverUrl.auth;\n\n  if (options.localAddress) requestOptions.localAddress = options.localAddress;\n  if (options.family) requestOptions.family = options.family;\n\n  if (isUnixSocket) {\n    const parts = serverUrl.path.split(':');\n\n    requestOptions.socketPath = parts[0];\n    requestOptions.path = parts[1];\n  } else if (serverUrl.path) {\n    //\n    // Make sure that path starts with `/`.\n    //\n    if (serverUrl.path.charAt(0) !== '/') {\n      requestOptions.path = `/${serverUrl.path}`;\n    } else {\n      requestOptions.path = serverUrl.path;\n    }\n  }\n\n  var agent = options.agent;\n\n  //\n  // A custom agent is required for these options.\n  //\n  if (\n    options.rejectUnauthorized != null ||\n    options.checkServerIdentity ||\n    options.passphrase ||\n    options.ciphers ||\n    options.ecdhCurve ||\n    options.cert ||\n    options.key ||\n    options.pfx ||\n    options.ca\n  ) {\n    if (options.passphrase) requestOptions.passphrase = options.passphrase;\n    if (options.ciphers) requestOptions.ciphers = options.ciphers;\n    if (options.ecdhCurve) requestOptions.ecdhCurve = options.ecdhCurve;\n    if (options.cert) requestOptions.cert = options.cert;\n    if (options.key) requestOptions.key = options.key;\n    if (options.pfx) requestOptions.pfx = options.pfx;\n    if (options.ca) requestOptions.ca = options.ca;\n    if (options.checkServerIdentity) {\n      requestOptions.checkServerIdentity = options.checkServerIdentity;\n    }\n    if (options.rejectUnauthorized != null) {\n      requestOptions.rejectUnauthorized = options.rejectUnauthorized;\n    }\n\n    if (!agent) agent = new httpObj.Agent(requestOptions);\n  }\n\n  if (agent) requestOptions.agent = agent;\n\n  this._req = httpObj.get(requestOptions);\n\n  if (options.handshakeTimeout) {\n    this._req.setTimeout(options.handshakeTimeout, () => {\n      this._req.abort();\n      this.finalize(new Error('opening handshake has timed out'));\n    });\n  }\n\n  this._req.on('error', (error) => {\n    if (this._req.aborted) return;\n\n    this._req = null;\n    this.finalize(error);\n  });\n\n  this._req.on('response', (res) => {\n    if (!this.emit('unexpected-response', this._req, res)) {\n      this._req.abort();\n      this.finalize(new Error(`unexpected server response (${res.statusCode})`));\n    }\n  });\n\n  this._req.on('upgrade', (res, socket, head) => {\n    this.emit('headers', res.headers, res);\n\n    //\n    // The user may have closed the connection from a listener of the `headers`\n    // event.\n    //\n    if (this.readyState !== WebSocket.CONNECTING) return;\n\n    this._req = null;\n\n    const digest = crypto.createHash('sha1')\n      .update(key + constants.GUID, 'binary')\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      socket.destroy();\n      return this.finalize(new Error('invalid server key'));\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    const protList = (options.protocol || '').split(/, */);\n    var protError;\n\n    if (!options.protocol && serverProt) {\n      protError = 'server sent a subprotocol even though none requested';\n    } else if (options.protocol && !serverProt) {\n      protError = 'server sent no subprotocol even though requested';\n    } else if (serverProt && protList.indexOf(serverProt) === -1) {\n      protError = 'server responded with an invalid protocol';\n    }\n\n    if (protError) {\n      socket.destroy();\n      return this.finalize(new Error(protError));\n    }\n\n    if (serverProt) this.protocol = serverProt;\n\n    if (perMessageDeflate) {\n      try {\n        const serverExtensions = Extensions.parse(\n          res.headers['sec-websocket-extensions']\n        );\n\n        if (serverExtensions[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(\n            serverExtensions[PerMessageDeflate.extensionName]\n          );\n          this.extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        socket.destroy();\n        this.finalize(new Error('invalid Sec-WebSocket-Extensions header'));\n        return;\n      }\n    }\n\n    this.setSocket(socket, head);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/lib/WebSocket.js","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 8\n// module chunks = 0","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * An auto incrementing id which we can use to create \"unique\" Ultron instances\n * so we can track the event emitters that are added through the Ultron\n * interface.\n *\n * @type {Number}\n * @private\n */\nvar id = 0;\n\n/**\n * Ultron is high-intelligence robot. It gathers intelligence so it can start improving\n * upon his rudimentary design. It will learn from your EventEmitting patterns\n * and exterminate them.\n *\n * @constructor\n * @param {EventEmitter} ee EventEmitter instance we need to wrap.\n * @api public\n */\nfunction Ultron(ee) {\n  if (!(this instanceof Ultron)) return new Ultron(ee);\n\n  this.id = id++;\n  this.ee = ee;\n}\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Functon} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @returns {Ultron}\n * @api public\n */\nUltron.prototype.on = function on(event, fn, context) {\n  fn.__ultron = this.id;\n  this.ee.on(event, fn, context);\n\n  return this;\n};\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @returns {Ultron}\n * @api public\n */\nUltron.prototype.once = function once(event, fn, context) {\n  fn.__ultron = this.id;\n  this.ee.once(event, fn, context);\n\n  return this;\n};\n\n/**\n * Remove the listeners we assigned for the given event.\n *\n * @returns {Ultron}\n * @api public\n */\nUltron.prototype.remove = function remove() {\n  var args = arguments\n    , ee = this.ee\n    , event;\n\n  //\n  // When no event names are provided we assume that we need to clear all the\n  // events that were assigned through us.\n  //\n  if (args.length === 1 && 'string' === typeof args[0]) {\n    args = args[0].split(/[, ]+/);\n  } else if (!args.length) {\n    if (ee.eventNames) {\n      args = ee.eventNames();\n    } else if (ee._events) {\n      args = [];\n\n      for (event in ee._events) {\n        if (has.call(ee._events, event)) args.push(event);\n      }\n\n      if (Object.getOwnPropertySymbols) {\n        args = args.concat(Object.getOwnPropertySymbols(ee._events));\n      }\n    }\n  }\n\n  for (var i = 0; i < args.length; i++) {\n    var listeners = ee.listeners(args[i]);\n\n    for (var j = 0; j < listeners.length; j++) {\n      event = listeners[j];\n\n      //\n      // Once listeners have a `listener` property that stores the real listener\n      // in the EventEmitter that ships with Node.js.\n      //\n      if (event.listener) {\n        if (event.listener.__ultron !== this.id) continue;\n      } else if (event.__ultron !== this.id) {\n        continue;\n      }\n\n      ee.removeListener(args[i], event);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Destroy the Ultron instance, remove all listeners and release all references.\n *\n * @returns {Boolean}\n * @api public\n */\nUltron.prototype.destroy = function destroy() {\n  if (!this.ee) return false;\n\n  this.remove();\n  this.ee = null;\n\n  return true;\n};\n\n//\n// Expose the module.\n//\nmodule.exports = Ultron;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ultron/index.js","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 11\n// module chunks = 0","\n/**\n * Module dependencies.\n */\n\nvar fs = require('fs')\n  , path = require('path')\n  , join = path.join\n  , dirname = path.dirname\n  , exists = ((fs.accessSync && function (path) { try { fs.accessSync(path); } catch (e) { return false; } return true; })\n      || fs.existsSync || path.existsSync)\n  , defaults = {\n        arrow: process.env.NODE_BINDINGS_ARROW || ' → '\n      , compiled: process.env.NODE_BINDINGS_COMPILED_DIR || 'compiled'\n      , platform: process.platform\n      , arch: process.arch\n      , version: process.versions.node\n      , bindings: 'bindings.node'\n      , try: [\n          // node-gyp's linked version in the \"build\" dir\n          [ 'module_root', 'build', 'bindings' ]\n          // node-waf and gyp_addon (a.k.a node-gyp)\n        , [ 'module_root', 'build', 'Debug', 'bindings' ]\n        , [ 'module_root', 'build', 'Release', 'bindings' ]\n          // Debug files, for development (legacy behavior, remove for node v0.9)\n        , [ 'module_root', 'out', 'Debug', 'bindings' ]\n        , [ 'module_root', 'Debug', 'bindings' ]\n          // Release files, but manually compiled (legacy behavior, remove for node v0.9)\n        , [ 'module_root', 'out', 'Release', 'bindings' ]\n        , [ 'module_root', 'Release', 'bindings' ]\n          // Legacy from node-waf, node <= 0.4.x\n        , [ 'module_root', 'build', 'default', 'bindings' ]\n          // Production \"Release\" buildtype binary (meh...)\n        , [ 'module_root', 'compiled', 'version', 'platform', 'arch', 'bindings' ]\n        ]\n    }\n\n/**\n * The main `bindings()` function loads the compiled bindings for a given module.\n * It uses V8's Error API to determine the parent filename that this function is\n * being invoked from, which is then used to find the root directory.\n */\n\nfunction bindings (opts) {\n\n  // Argument surgery\n  if (typeof opts == 'string') {\n    opts = { bindings: opts }\n  } else if (!opts) {\n    opts = {}\n  }\n\n  // maps `defaults` onto `opts` object\n  Object.keys(defaults).map(function(i) {\n    if (!(i in opts)) opts[i] = defaults[i];\n  });\n\n  // Get the module root\n  if (!opts.module_root) {\n    opts.module_root = exports.getRoot(exports.getFileName())\n  }\n\n  // Ensure the given bindings name ends with .node\n  if (path.extname(opts.bindings) != '.node') {\n    opts.bindings += '.node'\n  }\n\n  var tries = []\n    , i = 0\n    , l = opts.try.length\n    , n\n    , b\n    , err\n\n  for (; i<l; i++) {\n    n = join.apply(null, opts.try[i].map(function (p) {\n      return opts[p] || p\n    }))\n    tries.push(n)\n    try {\n      b = opts.path ? require.resolve(n) : require(n)\n      if (!opts.path) {\n        b.path = n\n      }\n      return b\n    } catch (e) {\n      if (!/not find/i.test(e.message)) {\n        throw e\n      }\n    }\n  }\n\n  err = new Error('Could not locate the bindings file. Tried:\\n'\n    + tries.map(function (a) { return opts.arrow + a }).join('\\n'))\n  err.tries = tries\n  throw err\n}\nmodule.exports = exports = bindings\n\n\n/**\n * Gets the filename of the JavaScript file that invokes this function.\n * Used to help find the root directory of a module.\n * Optionally accepts an filename argument to skip when searching for the invoking filename\n */\n\nexports.getFileName = function getFileName (calling_file) {\n  var origPST = Error.prepareStackTrace\n    , origSTL = Error.stackTraceLimit\n    , dummy = {}\n    , fileName\n\n  Error.stackTraceLimit = 10\n\n  Error.prepareStackTrace = function (e, st) {\n    for (var i=0, l=st.length; i<l; i++) {\n      fileName = st[i].getFileName()\n      if (fileName !== __filename) {\n        if (calling_file) {\n            if (fileName !== calling_file) {\n              return\n            }\n        } else {\n          return\n        }\n      }\n    }\n  }\n\n  // run the 'prepareStackTrace' function above\n  Error.captureStackTrace(dummy)\n  dummy.stack\n\n  // cleanup\n  Error.prepareStackTrace = origPST\n  Error.stackTraceLimit = origSTL\n\n  return fileName\n}\n\n/**\n * Gets the root directory of a module, given an arbitrary filename\n * somewhere in the module tree. The \"root directory\" is the directory\n * containing the `package.json` file.\n *\n *   In:  /home/nate/node-native-module/lib/index.js\n *   Out: /home/nate/node-native-module\n */\n\nexports.getRoot = function getRoot (file) {\n  var dir = dirname(file)\n    , prev\n  while (true) {\n    if (dir === '.') {\n      // Avoids an infinite loop in rare cases, like the REPL\n      dir = process.cwd()\n    }\n    if (exists(join(dir, 'package.json')) || exists(join(dir, 'node_modules'))) {\n      // Found the 'package.json' file or 'node_modules' dir; we're done\n      return dir\n    }\n    if (prev === dir) {\n      // Got to the top\n      throw new Error('Could not find module root given file: \"' + file\n                    + '\". Do you have a `package.json` file? ')\n    }\n    // Try the parent dir next\n    prev = dir\n    dir = join(dir, '..')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/bindings/bindings.js","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 13;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bindings\n// module id = 13\n// module chunks = 0","'use strict';\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push (dest, name, elem) {\n  if (Object.prototype.hasOwnProperty.call(dest, name)) dest[name].push(elem);\n  else dest[name] = [elem];\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse (header) {\n  const offers = {};\n\n  if (header === undefined || header === '') return offers;\n\n  var params = {};\n  var mustUnescape = false;\n  var isEscaping = false;\n  var inQuotes = false;\n  var extensionName;\n  var paramName;\n  var start = -1;\n  var end = -1;\n\n  for (var i = 0; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20/* ' ' */|| code === 0x09/* '\\t' */) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b/* ';' */ || code === 0x2c/* ',' */) {\n        if (start === -1) throw new Error(`unexpected character at index ${i}`);\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = {};\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new Error(`unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) throw new Error(`unexpected character at index ${i}`);\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = {};\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d/* '=' */&& start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new Error(`unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new Error(`unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22/* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c/* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new Error(`unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) throw new Error(`unexpected character at index ${i}`);\n\n        if (end === -1) end = i;\n        var value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = {};\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new Error(`unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes) throw new Error('unexpected end of input');\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, {});\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Serializes a parsed `Sec-WebSocket-Extensions` header to a string.\n *\n * @param {Object} value The object to format\n * @return {String} A string representing the given value\n * @public\n */\nfunction format (value) {\n  return Object.keys(value).map((token) => {\n    var paramsList = value[token];\n    if (!Array.isArray(paramsList)) paramsList = [paramsList];\n    return paramsList.map((params) => {\n      return [token].concat(Object.keys(params).map((k) => {\n        var p = params[k];\n        if (!Array.isArray(p)) p = [p];\n        return p.map((v) => v === true ? k : `${k}=${v}`).join('; ');\n      })).join('; ');\n    }).join(', ');\n  }).join(', ');\n}\n\nmodule.exports = { format, parse };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/lib/Extensions.js","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\n'use strict';\n\nconst safeBuffer = require('safe-buffer');\n\nconst PerMessageDeflate = require('./PerMessageDeflate');\nconst isValidUTF8 = require('./Validation');\nconst bufferUtil = require('./BufferUtil');\nconst ErrorCodes = require('./ErrorCodes');\nconst constants = require('./Constants');\n\nconst Buffer = safeBuffer.Buffer;\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n */\nclass Receiver {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} extensions An object containing the negotiated extensions\n   * @param {Number} maxPayload The maximum allowed message length\n   * @param {String} binaryType The type for binary data\n   */\n  constructor (extensions, maxPayload, binaryType) {\n    this._binaryType = binaryType || constants.BINARY_TYPES[0];\n    this._extensions = extensions || {};\n    this._maxPayload = maxPayload | 0;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._mask = null;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._cleanupCallback = null;\n    this._hadError = false;\n    this._dead = false;\n    this._loop = false;\n\n    this.onmessage = null;\n    this.onclose = null;\n    this.onerror = null;\n    this.onping = null;\n    this.onpong = null;\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Consumes bytes from the available buffered data.\n   *\n   * @param {Number} bytes The number of bytes to consume\n   * @return {Buffer} Consumed bytes\n   * @private\n   */\n  readBuffer (bytes) {\n    var offset = 0;\n    var dst;\n    var l;\n\n    this._bufferedBytes -= bytes;\n\n    if (bytes === this._buffers[0].length) return this._buffers.shift();\n\n    if (bytes < this._buffers[0].length) {\n      dst = this._buffers[0].slice(0, bytes);\n      this._buffers[0] = this._buffers[0].slice(bytes);\n      return dst;\n    }\n\n    dst = Buffer.allocUnsafe(bytes);\n\n    while (bytes > 0) {\n      l = this._buffers[0].length;\n\n      if (bytes >= l) {\n        this._buffers[0].copy(dst, offset);\n        offset += l;\n        this._buffers.shift();\n      } else {\n        this._buffers[0].copy(dst, offset, 0, bytes);\n        this._buffers[0] = this._buffers[0].slice(bytes);\n      }\n\n      bytes -= l;\n    }\n\n    return dst;\n  }\n\n  /**\n   * Checks if the number of buffered bytes is bigger or equal than `n` and\n   * calls `cleanup` if necessary.\n   *\n   * @param {Number} n The number of bytes to check against\n   * @return {Boolean} `true` if `bufferedBytes >= n`, else `false`\n   * @private\n   */\n  hasBufferedBytes (n) {\n    if (this._bufferedBytes >= n) return true;\n\n    this._loop = false;\n    if (this._dead) this.cleanup(this._cleanupCallback);\n    return false;\n  }\n\n  /**\n   * Adds new data to the parser.\n   *\n   * @public\n   */\n  add (data) {\n    if (this._dead) return;\n\n    this._bufferedBytes += data.length;\n    this._buffers.push(data);\n    this.startLoop();\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @private\n   */\n  startLoop () {\n    this._loop = true;\n\n    while (this._loop) {\n      switch (this._state) {\n        case GET_INFO:\n          this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          this.getData();\n          break;\n        default: // `INFLATING`\n          this._loop = false;\n      }\n    }\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @private\n   */\n  getInfo () {\n    if (!this.hasBufferedBytes(2)) return;\n\n    const buf = this.readBuffer(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this.error(new Error('RSV2 and RSV3 must be clear'), 1002);\n      return;\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this.error(new Error('RSV1 must be clear'), 1002);\n      return;\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this.error(new Error('RSV1 must be clear'), 1002);\n        return;\n      }\n\n      if (!this._fragmented) {\n        this.error(new Error(`invalid opcode: ${this._opcode}`), 1002);\n        return;\n      } else {\n        this._opcode = this._fragmented;\n      }\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this.error(new Error(`invalid opcode: ${this._opcode}`), 1002);\n        return;\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this.error(new Error('FIN must be set'), 1002);\n        return;\n      }\n\n      if (compressed) {\n        this.error(new Error('RSV1 must be clear'), 1002);\n        return;\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this.error(new Error('invalid payload length'), 1002);\n        return;\n      }\n    } else {\n      this.error(new Error(`invalid opcode: ${this._opcode}`), 1002);\n      return;\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @private\n   */\n  getPayloadLength16 () {\n    if (!this.hasBufferedBytes(2)) return;\n\n    this._payloadLength = this.readBuffer(2).readUInt16BE(0, true);\n    this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @private\n   */\n  getPayloadLength64 () {\n    if (!this.hasBufferedBytes(8)) return;\n\n    const buf = this.readBuffer(8);\n    const num = buf.readUInt32BE(0, true);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this.error(new Error('max payload size exceeded'), 1009);\n      return;\n    }\n\n    this._payloadLength = (num * Math.pow(2, 32)) + buf.readUInt32BE(4, true);\n    this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @private\n   */\n  haveLength () {\n    if (this._opcode < 0x08 && this.maxPayloadExceeded(this._payloadLength)) {\n      return;\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask () {\n    if (!this.hasBufferedBytes(4)) return;\n\n    this._mask = this.readBuffer(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @private\n   */\n  getData () {\n    var data = constants.EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (!this.hasBufferedBytes(this._payloadLength)) return;\n\n      data = this.readBuffer(this._payloadLength);\n      if (this._masked) bufferUtil.unmask(data, this._mask);\n    }\n\n    if (this._opcode > 0x07) {\n      this.controlMessage(data);\n    } else if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data);\n    } else if (this.pushFragment(data)) {\n      this.dataMessage();\n    }\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @private\n   */\n  decompress (data) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) {\n        this.error(err, err.closeCode === 1009 ? 1009 : 1007);\n        return;\n      }\n\n      if (this.pushFragment(buf)) this.dataMessage();\n      this.startLoop();\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @private\n   */\n  dataMessage () {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        var data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = toBuffer(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(toBuffer(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.onmessage(data);\n      } else {\n        const buf = toBuffer(fragments, messageLength);\n\n        if (!isValidUTF8(buf)) {\n          this.error(new Error('invalid utf8 sequence'), 1007);\n          return;\n        }\n\n        this.onmessage(buf.toString());\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @private\n   */\n  controlMessage (data) {\n    if (this._opcode === 0x08) {\n      if (data.length === 0) {\n        this.onclose(1000, '');\n        this._loop = false;\n        this.cleanup(this._cleanupCallback);\n      } else if (data.length === 1) {\n        this.error(new Error('invalid payload length'), 1002);\n      } else {\n        const code = data.readUInt16BE(0, true);\n\n        if (!ErrorCodes.isValidErrorCode(code)) {\n          this.error(new Error(`invalid status code: ${code}`), 1002);\n          return;\n        }\n\n        const buf = data.slice(2);\n\n        if (!isValidUTF8(buf)) {\n          this.error(new Error('invalid utf8 sequence'), 1007);\n          return;\n        }\n\n        this.onclose(code, buf.toString());\n        this._loop = false;\n        this.cleanup(this._cleanupCallback);\n      }\n\n      return;\n    }\n\n    if (this._opcode === 0x09) this.onping(data);\n    else this.onpong(data);\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles an error.\n   *\n   * @param {Error} err The error\n   * @param {Number} code Close code\n   * @private\n   */\n  error (err, code) {\n    this.onerror(err, code);\n    this._hadError = true;\n    this._loop = false;\n    this.cleanup(this._cleanupCallback);\n  }\n\n  /**\n   * Checks payload size, disconnects socket when it exceeds `maxPayload`.\n   *\n   * @param {Number} length Payload length\n   * @private\n   */\n  maxPayloadExceeded (length) {\n    if (length === 0 || this._maxPayload < 1) return false;\n\n    const fullLength = this._totalPayloadLength + length;\n\n    if (fullLength <= this._maxPayload) {\n      this._totalPayloadLength = fullLength;\n      return false;\n    }\n\n    this.error(new Error('max payload size exceeded'), 1009);\n    return true;\n  }\n\n  /**\n   * Appends a fragment in the fragments array after checking that the sum of\n   * fragment lengths does not exceed `maxPayload`.\n   *\n   * @param {Buffer} fragment The fragment to add\n   * @return {Boolean} `true` if `maxPayload` is not exceeded, else `false`\n   * @private\n   */\n  pushFragment (fragment) {\n    if (fragment.length === 0) return true;\n\n    const totalLength = this._messageLength + fragment.length;\n\n    if (this._maxPayload < 1 || totalLength <= this._maxPayload) {\n      this._messageLength = totalLength;\n      this._fragments.push(fragment);\n      return true;\n    }\n\n    this.error(new Error('max payload size exceeded'), 1009);\n    return false;\n  }\n\n  /**\n   * Releases resources used by the receiver.\n   *\n   * @param {Function} cb Callback\n   * @public\n   */\n  cleanup (cb) {\n    this._dead = true;\n\n    if (!this._hadError && (this._loop || this._state === INFLATING)) {\n      this._cleanupCallback = cb;\n    } else {\n      this._extensions = null;\n      this._fragments = null;\n      this._buffers = null;\n      this._mask = null;\n\n      this._cleanupCallback = null;\n      this.onmessage = null;\n      this.onclose = null;\n      this.onerror = null;\n      this.onping = null;\n      this.onpong = null;\n\n      if (cb) cb();\n    }\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Makes a buffer from a list of fragments.\n *\n * @param {Buffer[]} fragments The list of fragments composing the message\n * @param {Number} messageLength The length of the message\n * @return {Buffer}\n * @private\n */\nfunction toBuffer (fragments, messageLength) {\n  if (fragments.length === 1) return fragments[0];\n  if (fragments.length > 1) return bufferUtil.concat(fragments, messageLength);\n  return constants.EMPTY_BUFFER;\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n */\nfunction toArrayBuffer (buf) {\n  if (buf.byteOffset === 0 && buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/lib/Receiver.js","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\n'use strict';\n\nmodule.exports = {\n  isValidErrorCode: function (code) {\n    return (code >= 1000 && code <= 1013 && code !== 1004 && code !== 1005 && code !== 1006) ||\n      (code >= 3000 && code <= 4999);\n  },\n  1000: 'normal',\n  1001: 'going away',\n  1002: 'protocol error',\n  1003: 'unsupported data',\n  1004: 'reserved',\n  1005: 'reserved for extensions',\n  1006: 'reserved for extensions',\n  1007: 'inconsistent or invalid data',\n  1008: 'policy violation',\n  1009: 'message too big',\n  1010: 'extension handshake missing',\n  1011: 'an unexpected condition prevented the request from being fulfilled',\n  1012: 'service restart',\n  1013: 'try again later'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/lib/ErrorCodes.js","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\n'use strict';\n\nconst safeBuffer = require('safe-buffer');\nconst crypto = require('crypto');\n\nconst PerMessageDeflate = require('./PerMessageDeflate');\nconst bufferUtil = require('./BufferUtil');\nconst ErrorCodes = require('./ErrorCodes');\nconst constants = require('./Constants');\n\nconst Buffer = safeBuffer.Buffer;\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {net.Socket} socket The connection socket\n   * @param {Object} extensions An object containing the negotiated extensions\n   */\n  constructor (socket, extensions) {\n    this._extensions = extensions || {};\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {Buffer} data The data to frame\n   * @param {Object} options Options object\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} options.readOnly Specifies whether `data` can be modified\n   * @param {Boolean} options.fin Specifies whether or not to set the FIN bit\n   * @param {Boolean} options.mask Specifies whether or not to mask `data`\n   * @param {Boolean} options.rsv1 Specifies whether or not to set the RSV1 bit\n   * @return {Buffer[]} The framed data as a list of `Buffer` instances\n   * @public\n   */\n  static frame (data, options) {\n    const merge = data.length < 1024 || (options.mask && options.readOnly);\n    var offset = options.mask ? 6 : 2;\n    var payloadLength = data.length;\n\n    if (data.length >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (data.length > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? data.length + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(data.length, 2, true);\n    } else if (payloadLength === 127) {\n      target.writeUInt32BE(0, 2, true);\n      target.writeUInt32BE(data.length, 6, true);\n    }\n\n    if (!options.mask) {\n      target[1] = payloadLength;\n      if (merge) {\n        data.copy(target, offset);\n        return [target];\n      }\n\n      return [target, data];\n    }\n\n    const mask = crypto.randomBytes(4);\n\n    target[1] = payloadLength | 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (merge) {\n      bufferUtil.mask(data, mask, target, offset, data.length);\n      return [target];\n    }\n\n    bufferUtil.mask(data, mask, data, 0, data.length);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {(Number|undefined)} code The status code component of the body\n   * @param {String} data The message component of the body\n   * @param {Boolean} mask Specifies whether or not to mask the message\n   * @param {Function} cb Callback\n   * @public\n   */\n  close (code, data, mask, cb) {\n    var buf;\n\n    if (code === undefined) {\n      code = 1000;\n    } else if (typeof code !== 'number' || !ErrorCodes.isValidErrorCode(code)) {\n      throw new Error('first argument must be a valid error code number');\n    }\n\n    if (data === undefined || data === '') {\n      if (code === 1000) {\n        buf = constants.EMPTY_BUFFER;\n      } else {\n        buf = Buffer.allocUnsafe(2);\n        buf.writeUInt16BE(code, 0, true);\n      }\n    } else {\n      buf = Buffer.allocUnsafe(2 + Buffer.byteLength(data));\n      buf.writeUInt16BE(code, 0, true);\n      buf.write(data, 2);\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doClose, buf, mask, cb]);\n    } else {\n      this.doClose(buf, mask, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a close message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} mask Specifies whether or not to mask `data`\n   * @param {Function} cb Callback\n   * @private\n   */\n  doClose (data, mask, cb) {\n    this.sendFrame(Sender.frame(data, {\n      fin: true,\n      rsv1: false,\n      opcode: 0x08,\n      mask,\n      readOnly: false\n    }), cb);\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} mask Specifies whether or not to mask `data`\n   * @public\n   */\n  ping (data, mask) {\n    var readOnly = true;\n\n    if (!Buffer.isBuffer(data)) {\n      if (data instanceof ArrayBuffer) {\n        data = Buffer.from(data);\n      } else if (ArrayBuffer.isView(data)) {\n        data = viewToBuffer(data);\n      } else {\n        data = Buffer.from(data);\n        readOnly = false;\n      }\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPing, data, mask, readOnly]);\n    } else {\n      this.doPing(data, mask, readOnly);\n    }\n  }\n\n  /**\n   * Frames and sends a ping message.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} mask Specifies whether or not to mask `data`\n   * @param {Boolean} readOnly Specifies whether `data` can be modified\n   * @private\n   */\n  doPing (data, mask, readOnly) {\n    this.sendFrame(Sender.frame(data, {\n      fin: true,\n      rsv1: false,\n      opcode: 0x09,\n      mask,\n      readOnly\n    }));\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} mask Specifies whether or not to mask `data`\n   * @public\n   */\n  pong (data, mask) {\n    var readOnly = true;\n\n    if (!Buffer.isBuffer(data)) {\n      if (data instanceof ArrayBuffer) {\n        data = Buffer.from(data);\n      } else if (ArrayBuffer.isView(data)) {\n        data = viewToBuffer(data);\n      } else {\n        data = Buffer.from(data);\n        readOnly = false;\n      }\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPong, data, mask, readOnly]);\n    } else {\n      this.doPong(data, mask, readOnly);\n    }\n  }\n\n  /**\n   * Frames and sends a pong message.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} mask Specifies whether or not to mask `data`\n   * @param {Boolean} readOnly Specifies whether `data` can be modified\n   * @private\n   */\n  doPong (data, mask, readOnly) {\n    this.sendFrame(Sender.frame(data, {\n      fin: true,\n      rsv1: false,\n      opcode: 0x0a,\n      mask,\n      readOnly\n    }));\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} options.compress Specifies whether or not to compress `data`\n   * @param {Boolean} options.binary Specifies whether `data` is binary or text\n   * @param {Boolean} options.fin Specifies whether the fragment is the last one\n   * @param {Boolean} options.mask Specifies whether or not to mask `data`\n   * @param {Function} cb Callback\n   * @public\n   */\n  send (data, options, cb) {\n    var opcode = options.binary ? 2 : 1;\n    var rsv1 = options.compress;\n    var readOnly = true;\n\n    if (!Buffer.isBuffer(data)) {\n      if (data instanceof ArrayBuffer) {\n        data = Buffer.from(data);\n      } else if (ArrayBuffer.isView(data)) {\n        data = viewToBuffer(data);\n      } else {\n        data = Buffer.from(data);\n        readOnly = false;\n      }\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (rsv1 && perMessageDeflate) {\n        rsv1 = data.length >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        fin: options.fin,\n        rsv1,\n        opcode,\n        mask: options.mask,\n        readOnly\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n      } else {\n        this.dispatch(data, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(Sender.frame(data, {\n        fin: options.fin,\n        rsv1: false,\n        opcode,\n        mask: options.mask,\n        readOnly\n      }), cb);\n    }\n  }\n\n  /**\n   * Dispatches a data message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} compress Specifies whether or not to compress `data`\n   * @param {Object} options Options object\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} options.readOnly Specifies whether `data` can be modified\n   * @param {Boolean} options.fin Specifies whether or not to set the FIN bit\n   * @param {Boolean} options.mask Specifies whether or not to mask `data`\n   * @param {Boolean} options.rsv1 Specifies whether or not to set the RSV1 bit\n   * @param {Function} cb Callback\n   * @private\n   */\n  dispatch (data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this._deflating = false;\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue () {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[1].length;\n      params[0].apply(this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue (params) {\n    this._bufferedBytes += params[1].length;\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} cb Callback\n   * @private\n   */\n  sendFrame (list, cb) {\n    if (list.length === 2) {\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n\n/**\n * Converts an `ArrayBuffer` view into a buffer.\n *\n * @param {(DataView|TypedArray)} view The view to convert\n * @return {Buffer} Converted view\n * @private\n */\nfunction viewToBuffer (view) {\n  const buf = Buffer.from(view.buffer);\n\n  if (view.byteLength !== view.buffer.byteLength) {\n    return buf.slice(view.byteOffset, view.byteOffset + view.byteLength);\n  }\n\n  return buf;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/lib/Sender.js","import TraceClient from './trace-client';\nimport NodeSocketAdapter from './adapter-socket-node';\nimport getAdapter from './adapter-factory';\n\nconst client = new TraceClient(getAdapter(NodeSocketAdapter));\n\nexport default function trace (...args) {\n  client.send(args);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/client/node.js","export default class TraceClient {\n  constructor (SocketAdapter) {\n    console.log(SocketAdapter.name);\n    this.socketAdapter = new SocketAdapter(this.onMessage);\n    this.buffer = [];\n  }\n\n  send (...args) {\n    const { socketAdapter, buffer } = this;\n\n    buffer.push([...args]);\n\n    if (socketAdapter.isConnected) {\n      this.flush();\n    } else {\n      if (!socketAdapter.isConnecting) {\n        socketAdapter.connect().then(() => {\n          this.flush();\n        });\n      }\n    }\n  }\n\n  flush () {\n    const { socketAdapter, buffer } = this;\n    while (buffer.length) {\n      const row = buffer.shift();\n      console.log('flush:', row);\n      socketAdapter.send('trace', row);\n    }\n  }\n\n  onMessage = data => {\n    console.log('onMessage:', data);\n  };\n};\n\n\n// WEBPACK FOOTER //\n// ./src/client/trace-client.js","import BrowserAdapterBase from './adapter-socket-browser';\nimport WebSocket from 'ws';\n\nexport default class NodeSocketAdapter extends BrowserAdapterBase {\n  constructor (onMessageHandler) {\n    super(onMessageHandler);\n    \n    //do something when app is closing\n    process.on('exit', this.onExit.bind(this, { cleanup: true }));\n    \n    //catches ctrl+c event\n    process.on('SIGINT', this.onExit.bind(this, { exit: true }));\n    \n    // catches \"kill pid\" (for example: nodemon restart)\n    process.on('SIGUSR1', this.onExit.bind(this, { exit: true }));\n    process.on('SIGUSR2', this.onExit.bind(this, { exit: true }));\n    \n    //catches uncaught exceptions\n    process.on('uncaughtException', this.onExit.bind(this, { exit: true }));\n    process.on('unhandledRejection', this.onExit.bind(this, { exit: true }));\n  }\n\n  onExit (options, err) {\n    this.close();\n    \n    if (options.exit) {\n      process.exit();\n    }\n  }\n\n  newSocket (host, port) {\n    return new WebSocket(host + ':' + port);\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/client/adapter-socket-node.js","import AdapterBase from './adapter-base';\n\nexport default class BrowserSocketAdapter extends AdapterBase {\n  createSocket (host, port) {\n    return new Promise((resolve, reject) => {\n      try {\n        const socket = this.newSocket(host, port);\n\n        socket.onopen = event => {\n          resolve(socket);\n        };\n    \n        socket.onmessage = event => {\n          const data = JSON.parse(event.data);\n          this.onMessage(data);\n        };\n    \n        socket.onerror = error => {\n          this.onError(error);\n        };\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  newSocket (host, port) {\n    return new WebSocket(host + ':' + port);\n  }\n\n  socketSend (jsonStr) {\n    this.socket.send(jsonStr);\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/client/adapter-socket-browser.js","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\n'use strict';\n\nconst WebSocket = require('./lib/WebSocket');\n\nWebSocket.Server = require('./lib/WebSocketServer');\nWebSocket.Receiver = require('./lib/Receiver');\nWebSocket.Sender = require('./lib/Sender');\n\nmodule.exports = WebSocket;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/index.js","module.exports = require(\"https\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"https\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"buffer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"buffer\"\n// module id = 24\n// module chunks = 0","'use strict';\n\nfunction Queue(options) {\n  if (!(this instanceof Queue)) {\n    return new Queue(options);\n  }\n\n  options = options || {};\n  this.concurrency = options.concurrency || Infinity;\n  this.pending = 0;\n  this.jobs = [];\n  this.cbs = [];\n  this._done = done.bind(this);\n}\n\nvar arrayAddMethods = [\n  'push',\n  'unshift',\n  'splice'\n];\n\narrayAddMethods.forEach(function(method) {\n  Queue.prototype[method] = function() {\n    var methodResult = Array.prototype[method].apply(this.jobs, arguments);\n    this._run();\n    return methodResult;\n  };\n});\n\nObject.defineProperty(Queue.prototype, 'length', {\n  get: function() {\n    return this.pending + this.jobs.length;\n  }\n});\n\nQueue.prototype._run = function() {\n  if (this.pending === this.concurrency) {\n    return;\n  }\n  if (this.jobs.length) {\n    var job = this.jobs.shift();\n    this.pending++;\n    job(this._done);\n    this._run();\n  }\n\n  if (this.pending === 0) {\n    while (this.cbs.length !== 0) {\n      var cb = this.cbs.pop();\n      process.nextTick(cb);\n    }\n  }\n};\n\nQueue.prototype.onDone = function(cb) {\n  if (typeof cb === 'function') {\n    this.cbs.push(cb);\n    this._run();\n  }\n};\n\nfunction done() {\n  this.pending--;\n  this._run();\n}\n\nmodule.exports = Queue;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/async-limiter/index.js","module.exports = require(\"zlib\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"zlib\"\n// module id = 26\n// module chunks = 0","'use strict';\n\ntry {\n  module.exports = require('bindings')('bufferutil');\n} catch (e) {\n  module.exports = require('./fallback');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/bufferutil/index.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 29\n// module chunks = 0","/*!\n * bufferutil: WebSocket buffer utils\n * Copyright(c) 2015 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nconst mask = (source, mask, output, offset, length) => {\n  for (var i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n};\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nconst unmask = (buffer, mask) => {\n  // Required until https://github.com/nodejs/node/issues/9006 is resolved.\n  const length = buffer.length;\n  for (var i = 0; i < length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n};\n\nmodule.exports = { mask, unmask };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/bufferutil/fallback.js","'use strict';\n\n/**\n * Class representing an event.\n *\n * @private\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} target A reference to the target to which the event was dispatched\n   */\n  constructor (type, target) {\n    this.target = target;\n    this.type = type;\n  }\n}\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n * @private\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The received data\n   * @param {WebSocket} target A reference to the target to which the event was dispatched\n   */\n  constructor (data, target) {\n    super('message', target);\n\n    this.data = data;\n  }\n}\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n * @private\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {Number} code The status code explaining why the connection is being closed\n   * @param {String} reason A human-readable string explaining why the connection is closing\n   * @param {WebSocket} target A reference to the target to which the event was dispatched\n   */\n  constructor (code, reason, target) {\n    super('close', target);\n\n    this.wasClean = target._closeFrameReceived && target._closeFrameSent;\n    this.reason = reason;\n    this.code = code;\n  }\n}\n\n/**\n * Class representing an open event.\n *\n * @extends Event\n * @private\n */\nclass OpenEvent extends Event {\n  /**\n   * Create a new `OpenEvent`.\n   *\n   * @param {WebSocket} target A reference to the target to which the event was dispatched\n   */\n  constructor (target) {\n    super('open', target);\n  }\n}\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} method A string representing the event type to listen for\n   * @param {Function} listener The listener to add\n   * @public\n   */\n  addEventListener (method, listener) {\n    if (typeof listener !== 'function') return;\n\n    function onMessage (data) {\n      listener.call(this, new MessageEvent(data, this));\n    }\n\n    function onClose (code, message) {\n      listener.call(this, new CloseEvent(code, message, this));\n    }\n\n    function onError (event) {\n      event.type = 'error';\n      event.target = this;\n      listener.call(this, event);\n    }\n\n    function onOpen () {\n      listener.call(this, new OpenEvent(this));\n    }\n\n    if (method === 'message') {\n      onMessage._listener = listener;\n      this.on(method, onMessage);\n    } else if (method === 'close') {\n      onClose._listener = listener;\n      this.on(method, onClose);\n    } else if (method === 'error') {\n      onError._listener = listener;\n      this.on(method, onError);\n    } else if (method === 'open') {\n      onOpen._listener = listener;\n      this.on(method, onOpen);\n    } else {\n      this.on(method, listener);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} method A string representing the event type to remove\n   * @param {Function} listener The listener to remove\n   * @public\n   */\n  removeEventListener (method, listener) {\n    const listeners = this.listeners(method);\n\n    for (var i = 0; i < listeners.length; i++) {\n      if (listeners[i] === listener || listeners[i]._listener === listener) {\n        this.removeListener(method, listeners[i]);\n      }\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/lib/EventTarget.js","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\n'use strict';\n\ntry {\n  const isValidUTF8 = require('utf-8-validate');\n\n  module.exports = typeof isValidUTF8 === 'object'\n    ? isValidUTF8.Validation.isValidUTF8 // utf-8-validate@<3.0.0\n    : isValidUTF8;\n} catch (e) /* istanbul ignore next */ {\n  module.exports = () => true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/lib/Validation.js","'use strict';\n\ntry {\n  module.exports = require('bindings')('validation');\n} catch (e) {\n  module.exports = require('./fallback');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/utf-8-validate/index.js","/*!\n * UTF-8 validate: UTF-8 validation for WebSockets.\n * Copyright(c) 2015 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nconst isValidUTF8 = (buf) => {\n  var len = buf.length;\n  var i = 0;\n\n  while (i < len) {\n    if (buf[i] < 0x80) {  // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {  // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0  // overlong\n      ) {\n        return false;\n      } else {\n        i += 2;\n      }\n    } else if ((buf[i] & 0xf0) === 0xe0) {  // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80 ||  // overlong\n        buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0     // surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      } else {\n        i += 3;\n      }\n    } else if ((buf[i] & 0xf8) === 0xf0) {  // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80 ||  // overlong\n        buf[i] === 0xf4 && buf[i + 1] > 0x8f || buf[i] > 0xf4  // > U+10FFFF\n      ) {\n        return false;\n      } else {\n        i += 4;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nmodule.exports = isValidUTF8;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/utf-8-validate/fallback.js","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\n'use strict';\n\nconst safeBuffer = require('safe-buffer');\nconst EventEmitter = require('events');\nconst crypto = require('crypto');\nconst Ultron = require('ultron');\nconst http = require('http');\nconst url = require('url');\n\nconst PerMessageDeflate = require('./PerMessageDeflate');\nconst Extensions = require('./Extensions');\nconst constants = require('./Constants');\nconst WebSocket = require('./WebSocket');\n\nconst Buffer = safeBuffer.Buffer;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {String} options.host The hostname where to bind the server\n   * @param {Number} options.port The port where to bind the server\n   * @param {http.Server} options.server A pre-created HTTP/S server to use\n   * @param {Function} options.verifyClient An hook to reject connections\n   * @param {Function} options.handleProtocols An hook to handle protocols\n   * @param {String} options.path Accept only connections matching this path\n   * @param {Boolean} options.noServer Enable no server mode\n   * @param {Boolean} options.clientTracking Specifies whether or not to track clients\n   * @param {(Boolean|Object)} options.perMessageDeflate Enable/disable permessage-deflate\n   * @param {Number} options.maxPayload The maximum allowed message size\n   * @param {Function} callback A listener for the `listening` event\n   */\n  constructor (options, callback) {\n    super();\n\n    options = Object.assign({\n      maxPayload: 100 * 1024 * 1024,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null\n    }, options);\n\n    if (options.port == null && !options.server && !options.noServer) {\n      throw new TypeError('missing or invalid options');\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(options.port, options.host, options.backlog, callback);\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      this._ultron = new Ultron(this._server);\n      this._ultron.on('listening', () => this.emit('listening'));\n      this._ultron.on('error', (err) => this.emit('error', err));\n      this._ultron.on('upgrade', (req, socket, head) => {\n        this.handleUpgrade(req, socket, head, (client) => {\n          this.emit('connection', client, req);\n        });\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) this.clients = new Set();\n    this.options = options;\n  }\n\n  /**\n   * Close the server.\n   *\n   * @param {Function} cb Callback\n   * @public\n   */\n  close (cb) {\n    //\n    // Terminate all associated clients.\n    //\n    if (this.clients) {\n      for (const client of this.clients) client.terminate();\n    }\n\n    const server = this._server;\n\n    if (server) {\n      this._ultron.destroy();\n      this._ultron = this._server = null;\n\n      //\n      // Close the http server if it was internally created.\n      //\n      if (this.options.port != null) return server.close(cb);\n    }\n\n    if (cb) cb();\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle (req) {\n    if (this.options.path && url.parse(req.url).pathname !== this.options.path) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {net.Socket} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade (req, socket, head, cb) {\n    socket.on('error', socketError);\n\n    const version = +req.headers['sec-websocket-version'];\n    const extensions = {};\n\n    if (\n      req.method !== 'GET' || req.headers.upgrade.toLowerCase() !== 'websocket' ||\n      !req.headers['sec-websocket-key'] || (version !== 8 && version !== 13) ||\n      !this.shouldHandle(req)\n    ) {\n      return abortConnection(socket, 400);\n    }\n\n    if (this.options.perMessageDeflate) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = Extensions.parse(\n          req.headers['sec-websocket-extensions']\n        );\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        return abortConnection(socket, 400);\n      }\n    }\n\n    var protocol = (req.headers['sec-websocket-protocol'] || '').split(/, */);\n\n    //\n    // Optionally call external protocol selection handler.\n    //\n    if (this.options.handleProtocols) {\n      protocol = this.options.handleProtocols(protocol, req);\n      if (protocol === false) return abortConnection(socket, 401);\n    } else {\n      protocol = protocol[0];\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin: req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.connection.authorized || req.connection.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message) => {\n          if (!verified) return abortConnection(socket, code || 401, message);\n\n          this.completeUpgrade(\n            protocol,\n            extensions,\n            version,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortConnection(socket, 401);\n    }\n\n    this.completeUpgrade(protocol, extensions, version, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {String} protocol The chosen subprotocol\n   * @param {Object} extensions The accepted extensions\n   * @param {Number} version The WebSocket protocol version\n   * @param {http.IncomingMessage} req The request object\n   * @param {net.Socket} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @private\n   */\n  completeUpgrade (protocol, extensions, version, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    const key = crypto.createHash('sha1')\n      .update(req.headers['sec-websocket-key'] + constants.GUID, 'binary')\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${key}`\n    ];\n\n    if (protocol) headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = Extensions.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n\n    const client = new WebSocket([socket, head], null, {\n      maxPayload: this.options.maxPayload,\n      protocolVersion: version,\n      extensions,\n      protocol\n    });\n\n    if (this.clients) {\n      this.clients.add(client);\n      client.on('close', () => this.clients.delete(client));\n    }\n\n    socket.removeListener('error', socketError);\n    cb(client);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Handle premature socket errors.\n *\n * @private\n */\nfunction socketError () {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {net.Socket} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @private\n */\nfunction abortConnection (socket, code, message) {\n  if (socket.writable) {\n    message = message || http.STATUS_CODES[code];\n    socket.write(\n      `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      'Connection: close\\r\\n' +\n      'Content-type: text/html\\r\\n' +\n      `Content-Length: ${Buffer.byteLength(message)}\\r\\n` +\n      '\\r\\n' +\n      message\n    );\n  }\n\n  socket.removeListener('error', socketError);\n  socket.destroy();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ws/lib/WebSocketServer.js","import config from './config';\nimport InProcAdapter from './adapter-inproc';\n\nexport default function getAdapter (Adapter) {\n  return config.inproc ? InProcAdapter : Adapter;\n};\n\n\n// WEBPACK FOOTER //\n// ./src/client/adapter-factory.js","import AdapterBase from './adapter-base';\n\nexport default class InProcAdapter extends AdapterBase {\n  createSocket (host, port) {\n    return Promise.resolve();\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/client/adapter-inproc.js"],"sourceRoot":""}